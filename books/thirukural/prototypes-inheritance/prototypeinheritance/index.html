<!DOCTYPE html>
<html lang="en">

<head>


  <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <base href="/">
    <title>Project Madurai School</title>

    
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/site.webmanifest" />

    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />


    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
      integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ="
      crossorigin="anonymous"
    />



  


</head>

<body>
  <main class="container mt-5 w-100 h-100">
    <nav class="navbar navbar-expand-md navbar-light bg-white fixed-top">
  <div class="container-fluid border-bottom border-top-1 shadow-sm bg-body">
    <a class="navbar-brand" href="/">
      
      
      மதுரை தமிழ் இலக்கியம்
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExampleDefault"
      aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav me-auto mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" href="/books/thirukural">திருக்குறள்</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/books/aathichoodi">ஆத்திசூடி</a>
        </li>
      </ul>
      <form class="d-flex">
        <input class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>
      
    </div>
  </div>
</nav>
    <div class="row py-5 w-100 h-100">
       

  <nav class="navbar border-1 border-bottom">
  <div class="row w-100">
    <div class="col-4">
      
    </div>
    <div class="col-4 mb-2 text-center">
      <a class="text-dark"
        href="/books/thirukural/prototypes-inheritance">Prototypes, inheritance</a>
    </div>
    <div class="col-4 d-flex justify-content-end align-items-center">
      <a href="/books/thirukural/prototypes-inheritance/function-prototype">F.prototype</a>
    </div>
  </div>
</nav>

<main id="content" class="pt-3"><h1 id="prototypal-inheritance">Prototypal inheritance</h1>
<p>In programming, we often want to take something and extend it.</p>
<p>For instance, we have a <code>user</code> object with its properties and methods, and want to make <code>admin</code> and <code>guest</code> as slightly modified variants of it. We&rsquo;d like to reuse what we have in <code>user</code>, not copy/reimplement its methods, just build a new object on top of it.</p>
<p><em>Prototypal inheritance</em> is a language feature that helps in that.</p>
<h2 id="prototype">[[Prototype]]</h2>
<p>In JavaScript, objects have a special hidden property <code>[[Prototype]]</code> (as named in the specification), that is either <code>null</code> or references another object. That object is called &ldquo;a prototype&rdquo;:</p>
<p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/01-prototype-inheritance/object-prototype-empty.svg" alt="prototype"></p>
<p>When we read a property from <code>object</code>, and it&rsquo;s missing, JavaScript automatically takes it from the prototype. In programming, this is called &ldquo;prototypal inheritance&rdquo;. And soon we&rsquo;ll study many examples of such inheritance, as well as cooler language features built upon it.</p>
<p>The property <code>[[Prototype]]</code> is internal and hidden, but there are many ways to set it.</p>
<p>One of them is to use the special name <code>__proto__</code>, like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">animal</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">eats</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">jumps</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};

<span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">rabbit</span>.<span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">animal</span>; <span style="color:#75715e">// sets rabbit.[[Prototype]] = animal
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>Now if we read a property from <code>rabbit</code>, and it&rsquo;s missing, JavaScript will automatically take it from <code>animal</code>.</p>
<p>For instance:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">animal</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">eats</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">jumps</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};

<span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">rabbit</span>.<span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">animal</span>; <span style="color:#75715e">// (*)
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>

<span style="color:#75715e">// we can find both properties in rabbit now:
</span><span style="color:#75715e"></span><span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">alert</span>( <span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">eats</span> ); <span style="color:#75715e">// true (**)
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
<span style="color:#a6e22e">alert</span>( <span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">jumps</span> ); <span style="color:#75715e">// true
</span></code></pre></div><p>Here the line <code>(*)</code> sets <code>animal</code> to be a prototype of <code>rabbit</code>.</p>
<p>Then, when <code>alert</code> tries to read property <code>rabbit.eats</code> <code>(**)</code>, it&rsquo;s not in <code>rabbit</code>, so JavaScript follows the <code>[[Prototype]]</code> reference and finds it in <code>animal</code> (look from the bottom up):</p>
<p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/01-prototype-inheritance/proto-animal-rabbit.svg" alt=""></p>
<p>Here we can say that &ldquo;<code>animal</code> is the prototype of <code>rabbit</code>&rdquo; or &ldquo;<code>rabbit</code> prototypically inherits from <code>animal</code>&rdquo;.</p>
<p>So if <code>animal</code> has a lot of useful properties and methods, then they become automatically available in <code>rabbit</code>. Such properties are called &ldquo;inherited&rdquo;.</p>
<p>If we have a method in <code>animal</code>, it can be called on <code>rabbit</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">animal</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">eats</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
<span style="color:#f92672">*!*</span>
  <span style="color:#a6e22e">walk</span>() {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Animal walk&#34;</span>);
  }
<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">jumps</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
  <span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">animal</span>
};

<span style="color:#75715e">// walk is taken from the prototype
</span><span style="color:#75715e"></span><span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">walk</span>(); <span style="color:#75715e">// Animal walk
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>The method is automatically taken from the prototype, like this:</p>
<p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/01-prototype-inheritance/proto-animal-rabbit-walk.svg" alt=""></p>
<p>The prototype chain can be longer:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">animal</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">eats</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
  <span style="color:#a6e22e">walk</span>() {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Animal walk&#34;</span>);
  }
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">jumps</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
<span style="color:#f92672">*!*</span>
  <span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">animal</span>
<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">longEar</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">earLength</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span>,
<span style="color:#f92672">*!*</span>
  <span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">rabbit</span>
<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
};

<span style="color:#75715e">// walk is taken from the prototype chain
</span><span style="color:#75715e"></span><span style="color:#a6e22e">longEar</span>.<span style="color:#a6e22e">walk</span>(); <span style="color:#75715e">// Animal walk
</span><span style="color:#75715e"></span><span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">longEar</span>.<span style="color:#a6e22e">jumps</span>); <span style="color:#75715e">// true (from rabbit)
</span></code></pre></div><p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/01-prototype-inheritance/proto-animal-rabbit-chain.svg" alt=""></p>
<p>Now if we read something from <code>longEar</code>, and it&rsquo;s missing, JavaScript will look for it in <code>rabbit</code>, and then in <code>animal</code>.</p>
<p>There are only two limitations:</p>
<ol>
<li>The references can&rsquo;t go in circles. JavaScript will throw an error if we try to assign <code>__proto__</code> in a circle.</li>
<li>The value of <code>__proto__</code> can be either an object or <code>null</code>. Other types are ignored.</li>
</ol>
<p>Also it may be obvious, but still: there can be only one <code>[[Prototype]]</code>. An object may not inherit from two others.</p>
<p>```smart header=&quot;<code>__proto__</code> is a historical getter/setter for <code>[[Prototype]]</code>&quot;
It&rsquo;s a common mistake of novice developers not to know the difference between these two.</p>
<p>Please note that <code>__proto__</code> is <em>not the same</em> as the internal <code>[[Prototype]]</code> property. It&rsquo;s a getter/setter for <code>[[Prototype]]</code>. Later we&rsquo;ll see situations where it matters, for now let&rsquo;s just keep it in mind, as we build our understanding of JavaScript language.</p>
<p>The <code>__proto__</code> property is a bit outdated. It exists for historical reasons, modern JavaScript suggests that we should use <code>Object.getPrototypeOf/Object.setPrototypeOf</code> functions instead that get/set the prototype. We&rsquo;ll also cover these functions later.</p>
<p>By the specification, <code>__proto__</code> must only be supported by browsers. In fact though, all environments including server-side support <code>__proto__</code>, so we&rsquo;re quite safe using it.</p>
<p>As the <code>__proto__</code> notation is a bit more intuitively obvious, we use it in the examples.</p>
<pre><code>
## Writing doesn't use prototype

The prototype is only used for reading properties.

Write/delete operations work directly with the object.

In the example below, we assign its own `walk` method to `rabbit`:

```js run
let animal = {
  eats: true,
  walk() {
    /* this method won't be used by rabbit */  
  }
};

let rabbit = {
  __proto__: animal
};

*!*
rabbit.walk = function() {
  alert(&quot;Rabbit! Bounce-bounce!&quot;);
};
*/!*

rabbit.walk(); // Rabbit! Bounce-bounce!
</code></pre><p>From now on, <code>rabbit.walk()</code> call finds the method immediately in the object and executes it, without using the prototype:</p>
<p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/01-prototype-inheritance/proto-animal-rabbit-walk-2.svg" alt=""></p>
<p>Accessor properties are an exception, as assignment is handled by a setter function. So writing to such a property is actually the same as calling a function.</p>
<p>For that reason <code>admin.fullName</code> works correctly in the code below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>,
  <span style="color:#a6e22e">surname</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Smith&#34;</span>,

  <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">fullName</span>(<span style="color:#a6e22e">value</span>) {
    [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">surname</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34; &#34;</span>);
  },

  <span style="color:#a6e22e">get</span> <span style="color:#a6e22e">fullName</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">surname</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
  }
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">admin</span> <span style="color:#f92672">=</span> {
  <span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">user</span>,
  <span style="color:#a6e22e">isAdmin</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};

<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">admin</span>.<span style="color:#a6e22e">fullName</span>); <span style="color:#75715e">// John Smith (*)
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// setter triggers!
</span><span style="color:#75715e"></span><span style="color:#a6e22e">admin</span>.<span style="color:#a6e22e">fullName</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Alice Cooper&#34;</span>; <span style="color:#75715e">// (**)
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">admin</span>.<span style="color:#a6e22e">fullName</span>); <span style="color:#75715e">// Alice Cooper, state of admin modified
</span><span style="color:#75715e"></span><span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">fullName</span>); <span style="color:#75715e">// John Smith, state of user protected
</span></code></pre></div><p>Here in the line <code>(*)</code> the property <code>admin.fullName</code> has a getter in the prototype <code>user</code>, so it is called. And in the line <code>(**)</code> the property has a setter in the prototype, so it is called.</p>
<h2 id="the-value-of-this">The value of &ldquo;this&rdquo;</h2>
<p>An interesting question may arise in the example above: what&rsquo;s the value of <code>this</code> inside <code>set fullName(value)</code>? Where are the properties <code>this.name</code> and <code>this.surname</code> written: into <code>user</code> or <code>admin</code>?</p>
<p>The answer is simple: <code>this</code> is not affected by prototypes at all.</p>
<p><strong>No matter where the method is found: in an object or its prototype. In a method call, <code>this</code> is always the object before the dot.</strong></p>
<p>So, the setter call <code>admin.fullName=</code> uses <code>admin</code> as <code>this</code>, not <code>user</code>.</p>
<p>That is actually a super-important thing, because we may have a big object with many methods, and have objects that inherit from it. And when the inheriting objects run the inherited methods, they will modify only their own states, not the state of the big object.</p>
<p>For instance, here <code>animal</code> represents a &ldquo;method storage&rdquo;, and <code>rabbit</code> makes use of it.</p>
<p>The call <code>rabbit.sleep()</code> sets <code>this.isSleeping</code> on the <code>rabbit</code> object:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// animal has methods
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">animal</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">walk</span>() {
    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isSleeping</span>) {
      <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`I walk`</span>);
    }
  },
  <span style="color:#a6e22e">sleep</span>() {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isSleeping</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
  }
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;White Rabbit&#34;</span>,
  <span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">animal</span>
};

<span style="color:#75715e">// modifies rabbit.isSleeping
</span><span style="color:#75715e"></span><span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">sleep</span>();

<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">isSleeping</span>); <span style="color:#75715e">// true
</span><span style="color:#75715e"></span><span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">animal</span>.<span style="color:#a6e22e">isSleeping</span>); <span style="color:#75715e">// undefined (no such property in the prototype)
</span></code></pre></div><p>The resulting picture:</p>
<p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/01-prototype-inheritance/proto-animal-rabbit-walk-3.svg" alt=""></p>
<p>If we had other objects, like <code>bird</code>, <code>snake</code>, etc., inheriting from <code>animal</code>, they would also gain access to methods of <code>animal</code>. But <code>this</code> in each method call would be the corresponding object, evaluated at the call-time (before dot), not <code>animal</code>. So when we write data into <code>this</code>, it is stored into these objects.</p>
<p>As a result, methods are shared, but the object state is not.</p>
<h2 id="forin-loop">for..in loop</h2>
<p>The <code>for..in</code> loop iterates over inherited properties too.</p>
<p>For instance:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">animal</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">eats</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">jumps</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
  <span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">animal</span>
};

<span style="color:#f92672">*!*</span>
<span style="color:#75715e">// Object.keys only returns own keys
</span><span style="color:#75715e"></span><span style="color:#a6e22e">alert</span>(Object.<span style="color:#a6e22e">keys</span>(<span style="color:#a6e22e">rabbit</span>)); <span style="color:#75715e">// jumps
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>

<span style="color:#f92672">*!*</span>
<span style="color:#75715e">// for..in loops over both own and inherited keys
</span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">prop</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">rabbit</span>) <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">prop</span>); <span style="color:#75715e">// jumps, then eats
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>If that&rsquo;s not what we want, and we&rsquo;d like to exclude inherited properties, there&rsquo;s a built-in method <a href="mdn:js/Object/hasOwnProperty">obj.hasOwnProperty(key)</a>: it returns <code>true</code> if <code>obj</code> has its own (not inherited) property named <code>key</code>.</p>
<p>So we can filter out inherited properties (or do something else with them):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">animal</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">eats</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">jumps</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
  <span style="color:#ae81ff">__</span><span style="color:#a6e22e">proto__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">animal</span>
};

<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">prop</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">rabbit</span>) {
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">isOwn</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">hasOwnProperty</span>(<span style="color:#a6e22e">prop</span>);

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isOwn</span>) {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Our: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">prop</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>); <span style="color:#75715e">// Our: jumps
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Inherited: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">prop</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>); <span style="color:#75715e">// Inherited: eats
</span><span style="color:#75715e"></span>  }
}
</code></pre></div><p>Here we have the following inheritance chain: <code>rabbit</code> inherits from <code>animal</code>, that inherits from <code>Object.prototype</code> (because <code>animal</code> is a literal object <code>{...}</code>, so it&rsquo;s by default), and then <code>null</code> above it:</p>
<p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/01-prototype-inheritance/rabbit-animal-object.svg" alt=""></p>
<p>Note, there&rsquo;s one funny thing. Where is the method <code>rabbit.hasOwnProperty</code> coming from? We did not define it. Looking at the chain we can see that the method is provided by <code>Object.prototype.hasOwnProperty</code>. In other words, it&rsquo;s inherited.</p>
<p>&hellip;But why does <code>hasOwnProperty</code> not appear in the <code>for..in</code> loop like <code>eats</code> and <code>jumps</code> do, if <code>for..in</code> lists inherited properties?</p>
<p>The answer is simple: it&rsquo;s not enumerable. Just like all other properties of <code>Object.prototype</code>, it has <code>enumerable:false</code> flag. And <code>for..in</code> only lists enumerable properties. That&rsquo;s why it and the rest of the <code>Object.prototype</code> properties are not listed.</p>
<pre><code class="language-smart" data-lang="smart">Almost all other key/value-getting methods, such as `Object.keys`, `Object.values` and so on ignore inherited properties.

They only operate on the object itself. Properties from the prototype are *not* taken into account.
</code></pre><h2 id="summary">Summary</h2>
<ul>
<li>In JavaScript, all objects have a hidden <code>[[Prototype]]</code> property that&rsquo;s either another object or <code>null</code>.</li>
<li>We can use <code>obj.__proto__</code> to access it (a historical getter/setter, there are other ways, to be covered soon).</li>
<li>The object referenced by <code>[[Prototype]]</code> is called a &ldquo;prototype&rdquo;.</li>
<li>If we want to read a property of <code>obj</code> or call a method, and it doesn&rsquo;t exist, then JavaScript tries to find it in the prototype.</li>
<li>Write/delete operations act directly on the object, they don&rsquo;t use the prototype (assuming it&rsquo;s a data property, not a setter).</li>
<li>If we call <code>obj.method()</code>, and the <code>method</code> is taken from the prototype, <code>this</code> still references <code>obj</code>. So methods always work with the current object even if they are inherited.</li>
<li>The <code>for..in</code> loop iterates over both its own and its inherited properties. All other key/value-getting methods only operate on the object itself.</li>
</ul>
</main>


<div class="modal fade" id="noteModel" tabindex="-1" aria-labelledby="noteModelLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="noteModelLabel">Note</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <textarea class="form-control" id="noteText" rows="3"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


    </div>
    
  </main>
  
  



<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Confimation</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete ?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
          <button type="button" class="btn btn-primary">Yes</button>
        </div>
      </div>
    </div>
  </div>

<div aria-live="polite" aria-atomic="true">
  <div class="toast-container position-absolute top-0 start-0 p-5 mt-5" id="toast-container">
    
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/app.js"></script>



  
  
  

<script type="text/javascript" src="/js/chapter.js"></script>


  
</body>

</html>