<!DOCTYPE html>
<html lang="en">

<head>


  <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <base href="/project-madurai-website">
    <title>Project Madurai School</title>

    
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/site.webmanifest" />

    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />


    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
      integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ="
      crossorigin="anonymous"
    />



  


</head>

<body>
  <main class="container mt-5 w-100 h-100">
    <nav class="navbar navbar-expand-md navbar-light bg-white fixed-top">
  <div class="container-fluid border-bottom border-top-1 shadow-sm bg-body">
    <a class="navbar-brand" href="/">
      
      
      மதுரை தமிழ் இலக்கியம்
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExampleDefault"
      aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav me-auto mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" href="/books/thirukural">திருக்குறள்</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/books/aathichoodi">ஆத்திசூடி</a>
        </li>
      </ul>
      <form class="d-flex">
        <input class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>
      
    </div>
  </div>
</nav>
    <div class="row py-5 w-100 h-100">
       

  <nav class="navbar border-1 border-bottom">
  <div class="row w-100">
    <div class="col-4">
      <a href="/project-madurai-website/books/thirukural/prototypes-inheritance/prototypeinheritance"> Prototypal inheritance</a>
    </div>
    <div class="col-4 mb-2 text-center">
      <a class="text-dark"
        href="/project-madurai-website/books/thirukural/prototypes-inheritance">Prototypes, inheritance</a>
    </div>
    <div class="col-4 d-flex justify-content-end align-items-center">
      <a href="/project-madurai-website/books/thirukural/prototypes-inheritance/nativeprototypes">Native prototypes</a>
    </div>
  </div>
</nav>

<main id="content" class="pt-3"><h1 id="fprototype">F.prototype</h1>
<p>Remember, new objects can be created with a constructor function, like <code>new F()</code>.</p>
<p>If <code>F.prototype</code> is an object, then the <code>new</code> operator uses it to set <code>[[Prototype]]</code> for the new object.</p>
<pre><code class="language-smart" data-lang="smart">JavaScript had prototypal inheritance from the beginning. It was one of the core features of the language.

But in the old times, there was no direct access to it. The only thing that worked reliably was a `&quot;prototype&quot;` property of the constructor function, described in this chapter. So there are many scripts that still use it.
</code></pre><p>Please note that <code>F.prototype</code> here means a regular property named <code>&quot;prototype&quot;</code> on <code>F</code>. It sounds something similar to the term &ldquo;prototype&rdquo;, but here we really mean a regular property with this name.</p>
<p>Here&rsquo;s the example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">animal</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">eats</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Rabbit</span>(<span style="color:#a6e22e">name</span>) {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>;
}

<span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">Rabbit</span>.<span style="color:#a6e22e">prototype</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">animal</span>;
<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Rabbit</span>(<span style="color:#e6db74">&#34;White Rabbit&#34;</span>); <span style="color:#75715e">//  rabbit.__proto__ == animal
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">alert</span>( <span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">eats</span> ); <span style="color:#75715e">// true
</span></code></pre></div><p>Setting <code>Rabbit.prototype = animal</code> literally states the following: &ldquo;When a <code>new Rabbit</code> is created, assign its <code>[[Prototype]]</code> to <code>animal</code>&rdquo;.</p>
<p>That&rsquo;s the resulting picture:</p>
<p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/02-function-prototype/proto-constructor-animal-rabbit.svg" alt=""></p>
<p>On the picture, <code>&quot;prototype&quot;</code> is a horizontal arrow, meaning a regular property, and <code>[[Prototype]]</code> is vertical, meaning the inheritance of <code>rabbit</code> from <code>animal</code>.</p>
<p>```smart header=&quot;<code>F.prototype</code> only used at <code>new F</code> time&quot;
<code>F.prototype</code> property is only used when <code>new F</code> is called, it assigns <code>[[Prototype]]</code> of the new object.</p>
<p>If, after the creation, <code>F.prototype</code> property changes (<code>F.prototype = &lt;another object&gt;</code>), then new objects created by <code>new F</code> will have another object as <code>[[Prototype]]</code>, but already existing objects keep the old one.</p>
<pre><code>
## Default F.prototype, constructor property

Every function has the `&quot;prototype&quot;` property even if we don't supply it.

The default `&quot;prototype&quot;` is an object with the only property `constructor` that points back to the function itself.

Like this:

```js
function Rabbit() {}

/* default prototype
Rabbit.prototype = { constructor: Rabbit };
*/
</code></pre><p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/02-function-prototype/function-prototype-constructor.svg" alt=""></p>
<p>We can check it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Rabbit</span>() {}
<span style="color:#75715e">// by default:
</span><span style="color:#75715e">// Rabbit.prototype = { constructor: Rabbit }
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">alert</span>( <span style="color:#a6e22e">Rabbit</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">constructor</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">Rabbit</span> ); <span style="color:#75715e">// true
</span></code></pre></div><p>Naturally, if we do nothing, the <code>constructor</code> property is available to all rabbits through  <code>[[Prototype]]</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Rabbit</span>() {}
<span style="color:#75715e">// by default:
</span><span style="color:#75715e">// Rabbit.prototype = { constructor: Rabbit }
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Rabbit</span>(); <span style="color:#75715e">// inherits from {constructor: Rabbit}
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">constructor</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">Rabbit</span>); <span style="color:#75715e">// true (from prototype)
</span></code></pre></div><p><img src="https://raw.githubusercontent.com/javascript-tutorial/en.javascript.info/cf33b67042d72df14e41f6688695ef833467f7f7/1-js/08-prototypes/02-function-prototype/rabbit-prototype-constructor.svg" alt=""></p>
<p>We can use <code>constructor</code> property to create a new object using the same constructor as the existing one.</p>
<p>Like here:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Rabbit</span>(<span style="color:#a6e22e">name</span>) {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>;
  <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">name</span>);
}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Rabbit</span>(<span style="color:#e6db74">&#34;White Rabbit&#34;</span>);

<span style="color:#f92672">*!*</span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit2</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">constructor</span>(<span style="color:#e6db74">&#34;Black Rabbit&#34;</span>);
<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>That&rsquo;s handy when we have an object, don&rsquo;t know which constructor was used for it (e.g. it comes from a 3rd party library), and we need to create another one of the same kind.</p>
<p>But probably the most important thing about <code>&quot;constructor&quot;</code> is that&hellip;</p>
<p><strong>&hellip;JavaScript itself does not ensure the right <code>&quot;constructor&quot;</code> value.</strong></p>
<p>Yes, it exists in the default <code>&quot;prototype&quot;</code> for functions, but that&rsquo;s all. What happens with it later &ndash; is totally on us.</p>
<p>In particular, if we replace the default prototype as a whole, then there will be no <code>&quot;constructor&quot;</code> in it.</p>
<p>For instance:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Rabbit</span>() {}
<span style="color:#a6e22e">Rabbit</span>.<span style="color:#a6e22e">prototype</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">jumps</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rabbit</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Rabbit</span>();
<span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">constructor</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">Rabbit</span>); <span style="color:#75715e">// false
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>So, to keep the right <code>&quot;constructor&quot;</code> we can choose to add/remove properties to the default <code>&quot;prototype&quot;</code> instead of overwriting it as a whole:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Rabbit</span>() {}

<span style="color:#75715e">// Not overwrite Rabbit.prototype totally
</span><span style="color:#75715e">// just add to it
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Rabbit</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">jumps</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
<span style="color:#75715e">// the default Rabbit.prototype.constructor is preserved
</span></code></pre></div><p>Or, alternatively, recreate the <code>constructor</code> property manually:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Rabbit</span>.<span style="color:#a6e22e">prototype</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">jumps</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
<span style="color:#f92672">*!*</span>
  <span style="color:#a6e22e">constructor</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Rabbit</span>
<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
};

<span style="color:#75715e">// now constructor is also correct, because we added it
</span></code></pre></div><h2 id="summary">Summary</h2>
<p>In this chapter we briefly described the way of setting a <code>[[Prototype]]</code> for objects created via a constructor function. Later we&rsquo;ll see more advanced programming patterns that rely on it.</p>
<p>Everything is quite simple, just a few notes to make things clear:</p>
<ul>
<li>The <code>F.prototype</code> property (don&rsquo;t mistake it for <code>[[Prototype]]</code>) sets <code>[[Prototype]]</code> of new objects when <code>new F()</code> is called.</li>
<li>The value of <code>F.prototype</code> should be either an object or <code>null</code>: other values won&rsquo;t work.</li>
<li>The <code>&quot;prototype&quot;</code> property only has such a special effect when set on a constructor function, and invoked with <code>new</code>.</li>
</ul>
<p>On regular objects the <code>prototype</code> is nothing special:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>,
  <span style="color:#a6e22e">prototype</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Bla-bla&#34;</span> <span style="color:#75715e">// no magic at all
</span><span style="color:#75715e"></span>};
</code></pre></div><p>By default all functions have <code>F.prototype = { constructor: F }</code>, so we can get the constructor of an object by accessing its <code>&quot;constructor&quot;</code> property.</p>
</main>


<div class="modal fade" id="noteModel" tabindex="-1" aria-labelledby="noteModelLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="noteModelLabel">Note</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <textarea class="form-control" id="noteText" rows="3"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


    </div>
    
  </main>
  
  



<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Confimation</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete ?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
          <button type="button" class="btn btn-primary">Yes</button>
        </div>
      </div>
    </div>
  </div>

<div aria-live="polite" aria-atomic="true">
  <div class="toast-container position-absolute top-0 start-0 p-5 mt-5" id="toast-container">
    
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/app.js"></script>



  
  
  

<script type="text/javascript" src="/js/chapter.js"></script>


  
</body>

</html>