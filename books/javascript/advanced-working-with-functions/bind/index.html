<!DOCTYPE html>
<html lang="en">

<head>


  <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <base href="/">
    <title>Project Madurai School</title>

    
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/site.webmanifest" />

    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />


    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
      integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ="
      crossorigin="anonymous"
    />



  


</head>

<body>
  <main class="container mt-5 w-100 h-100">
    <nav class="navbar navbar-expand-md navbar-light bg-white py-0 fixed-top">
  <div class="container-fluid border-bottom border-top-1 shadow-sm bg-body">
    <a class="navbar-brand lh-1" href="/">
      
      
        <span class="text-primary"><strong>Project Madurai</strong></span><br>
        <p class="text-muted text-end w-100 p-0 mb-0"><small class="dropdown-toggle">தமிழ்</small></p>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExampleDefault"
      aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" href="/books/javascript">Javascript</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/books/c">C</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/practices/java">Java</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/posts">Blog</a>
        </li>
      </ul>
      <form class="d-flex">
        <input class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>
      <ul class="navbar-nav secured">
        <li class="nav-item btn pe-0">
          <a class="nav-link" href="/chat"><i class="far fa-comment-dots fa-2x"></i></a>
        </li>
        <li class="nav-item pe-0 dropdown">
          
          <div class="btn-group bg-light">
            <a class="btn btn-toggle pe-0" data-bs-toggle="dropdown" aria-expanded="false">
              <div class="d-flex bd-highlight">
                <div class="w-100 bd-highlight text-end">
                  <h6 class="text-muted fw-bold">தமிழ்ச் சங்கம்</h6>
                  <small class="text-muted">திருவள்ளுவர் கழகம்</small>
               </div>
                <div class="flex-shrink-1 bd-highlight">
                  <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="img-circle img-thumbnail avatar"
                style="vertical-align: middle;border-radius: 50%; width: 3rem; margin-right: 10px;" alt="avatar">
                </div>
                
                
              </div>
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdown03">
              <li><a class="dropdown-item" href="javascript://">Profile</a></li>
              <li><a class="dropdown-item" href="/campuses/tamil-sangam">Campus</a></li>
              <li><a class="dropdown-item logout" href="javascript://">Logout</a></li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="row py-5 w-100 h-100">
       

  <nav class="navbar border-1 border-bottom">
  <div class="row w-100">
    <div class="col-4">
      <a href="/books/javascript/advanced-working-with-functions/call-apply-decorators">Decorators and forwarding, call/apply</a>
    </div>
    <div class="col-4 mb-2 text-center">
      <a class="text-dark"
        href="/books/javascript/advanced-working-with-functions">Advanced Working with Functions</a>
    </div>
    <div class="col-4 d-flex justify-content-end align-items-center">
      <a href="/books/javascript/advanced-working-with-functions/arrow-functions">Arrow functions revisited</a>
    </div>
  </div>
</nav>

<main id="content" class="pt-3"><h1 id="function-binding">Function binding</h1>
<p>When passing object methods as callbacks, for instance to <code>setTimeout</code>, there&rsquo;s a known problem: &ldquo;losing <code>this</code>&rdquo;.</p>
<p>In this chapter we&rsquo;ll see the ways to fix it.</p>
<h2 id="losing-this">Losing &ldquo;this&rdquo;</h2>
<p>We&rsquo;ve already seen examples of losing <code>this</code>. Once a method is passed somewhere separately from the object &ndash; <code>this</code> is lost.</p>
<p>Here&rsquo;s how it may happen with <code>setTimeout</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">firstName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>,
  <span style="color:#a6e22e">sayHi</span>() {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>);
  }
};

<span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">setTimeout</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">sayHi</span>, <span style="color:#ae81ff">1000</span>); <span style="color:#75715e">// Hello, undefined!
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>As we can see, the output shows not &ldquo;John&rdquo; as <code>this.firstName</code>, but <code>undefined</code>!</p>
<p>That&rsquo;s because <code>setTimeout</code> got the function <code>user.sayHi</code>, separately from the object. The last line can be rewritten as:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">f</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">sayHi</span>;
<span style="color:#a6e22e">setTimeout</span>(<span style="color:#a6e22e">f</span>, <span style="color:#ae81ff">1000</span>); <span style="color:#75715e">// lost user context
</span></code></pre></div><p>The method <code>setTimeout</code> in-browser is a little special: it sets <code>this=window</code> for the function call (for Node.js, <code>this</code> becomes the timer object, but doesn&rsquo;t really matter here). So for <code>this.firstName</code> it tries to get <code>window.firstName</code>, which does not exist. In other similar cases, usually <code>this</code> just becomes <code>undefined</code>.</p>
<p>The task is quite typical &ndash; we want to pass an object method somewhere else (here &ndash; to the scheduler) where it will be called. How to make sure that it will be called in the right context?</p>
<h2 id="solution-1-a-wrapper">Solution 1: a wrapper</h2>
<p>The simplest solution is to use a wrapping function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">firstName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>,
  <span style="color:#a6e22e">sayHi</span>() {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>);
  }
};

<span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">setTimeout</span>(<span style="color:#66d9ef">function</span>() {
  <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">sayHi</span>(); <span style="color:#75715e">// Hello, John!
</span><span style="color:#75715e"></span>}, <span style="color:#ae81ff">1000</span>);
<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>Now it works, because it receives <code>user</code> from the outer lexical environment, and then calls the method normally.</p>
<p>The same, but shorter:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">setTimeout</span>(() =&gt; <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">sayHi</span>(), <span style="color:#ae81ff">1000</span>); <span style="color:#75715e">// Hello, John!
</span></code></pre></div><p>Looks fine, but a slight vulnerability appears in our code structure.</p>
<p>What if before <code>setTimeout</code> triggers (there&rsquo;s one second delay!) <code>user</code> changes value? Then, suddenly, it will call the wrong object!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">firstName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>,
  <span style="color:#a6e22e">sayHi</span>() {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>);
  }
};

<span style="color:#a6e22e">setTimeout</span>(() =&gt; <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">sayHi</span>(), <span style="color:#ae81ff">1000</span>);

<span style="color:#75715e">// ...the value of user changes within 1 second
</span><span style="color:#75715e"></span><span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">sayHi</span>() { <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Another user in setTimeout!&#34;</span>); }
};

<span style="color:#75715e">// Another user in setTimeout!
</span></code></pre></div><p>The next solution guarantees that such thing won&rsquo;t happen.</p>
<h2 id="solution-2-bind">Solution 2: bind</h2>
<p>Functions provide a built-in method <a href="mdn:js/Function/bind">bind</a> that allows to fix <code>this</code>.</p>
<p>The basic syntax is:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// more complex syntax will come a little later
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">boundFunc</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">func</span>.<span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">context</span>);
</code></pre></div><p>The result of <code>func.bind(context)</code> is a special function-like &ldquo;exotic object&rdquo;, that is callable as function and transparently passes the call to <code>func</code> setting <code>this=context</code>.</p>
<p>In other words, calling <code>boundFunc</code> is like <code>func</code> with fixed <code>this</code>.</p>
<p>For instance, here <code>funcUser</code> passes a call to <code>func</code> with <code>this=user</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">firstName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>
};

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">func</span>() {
  <span style="color:#a6e22e">alert</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span>);
}

<span style="color:#f92672">*!*</span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">funcUser</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">func</span>.<span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">user</span>);
<span style="color:#a6e22e">funcUser</span>(); <span style="color:#75715e">// John  
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>Here <code>func.bind(user)</code> as a &ldquo;bound variant&rdquo; of <code>func</code>, with fixed <code>this=user</code>.</p>
<p>All arguments are passed to the original <code>func</code> &ldquo;as is&rdquo;, for instance:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">firstName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>
};

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">func</span>(<span style="color:#a6e22e">phrase</span>) {
  <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">phrase</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;, &#39;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span>);
}

<span style="color:#75715e">// bind this to user
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">funcUser</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">func</span>.<span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">user</span>);

<span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">funcUser</span>(<span style="color:#e6db74">&#34;Hello&#34;</span>); <span style="color:#75715e">// Hello, John (argument &#34;Hello&#34; is passed, and this=user)
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>Now let&rsquo;s try with an object method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">firstName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>,
  <span style="color:#a6e22e">sayHi</span>() {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>);
  }
};

<span style="color:#f92672">*!*</span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">sayHi</span>.<span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">user</span>); <span style="color:#75715e">// (*)
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>

<span style="color:#75715e">// can run it without an object
</span><span style="color:#75715e"></span><span style="color:#a6e22e">sayHi</span>(); <span style="color:#75715e">// Hello, John!
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">setTimeout</span>(<span style="color:#a6e22e">sayHi</span>, <span style="color:#ae81ff">1000</span>); <span style="color:#75715e">// Hello, John!
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// even if the value of user changes within 1 second
</span><span style="color:#75715e">// sayHi uses the pre-bound value which is reference to the old user object
</span><span style="color:#75715e"></span><span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">sayHi</span>() { <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Another user in setTimeout!&#34;</span>); }
};
</code></pre></div><p>In the line <code>(*)</code> we take the method <code>user.sayHi</code> and bind it to <code>user</code>. The <code>sayHi</code> is a &ldquo;bound&rdquo; function, that can be called alone or passed to <code>setTimeout</code> &ndash; doesn&rsquo;t matter, the context will be right.</p>
<p>Here we can see that arguments are passed &ldquo;as is&rdquo;, only <code>this</code> is fixed by <code>bind</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">firstName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;John&#34;</span>,
  <span style="color:#a6e22e">say</span>(<span style="color:#a6e22e">phrase</span>) {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">phrase</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>);
  }
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">say</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">say</span>.<span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">user</span>);

<span style="color:#a6e22e">say</span>(<span style="color:#e6db74">&#34;Hello&#34;</span>); <span style="color:#75715e">// Hello, John (&#34;Hello&#34; argument is passed to say)
</span><span style="color:#75715e"></span><span style="color:#a6e22e">say</span>(<span style="color:#e6db74">&#34;Bye&#34;</span>); <span style="color:#75715e">// Bye, John (&#34;Bye&#34; is passed to say)
</span></code></pre></div><p>````smart header=&ldquo;Convenience method: <code>bindAll</code>&rdquo;
If an object has many methods and we plan to actively pass it around, then we could bind them all in a loop:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">key</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">user</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">user</span>[<span style="color:#a6e22e">key</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;function&#39;</span>) {
    <span style="color:#a6e22e">user</span>[<span style="color:#a6e22e">key</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>[<span style="color:#a6e22e">key</span>].<span style="color:#a6e22e">bind</span>(<span style="color:#a6e22e">user</span>);
  }
}
</code></pre></div><p>JavaScript libraries also provide functions for convenient mass binding , e.g. <a href="http://lodash.com/docs#bindAll">_.bindAll(object, methodNames)</a> in lodash.</p>
<pre><code>
## Partial functions

Until now we have only been talking about binding `this`. Let's take it a step further.

We can bind not only `this`, but also arguments. That's rarely done, but sometimes can be handy.

The full syntax of `bind`:

```js
let bound = func.bind(context, [arg1], [arg2], ...);
```

It allows to bind context as `this` and starting arguments of the function.

For instance, we have a multiplication function `mul(a, b)`:

```js
function mul(a, b) {
  return a * b;
}
```

Let's use `bind` to create a function `double` on its base:

```js run
function mul(a, b) {
  return a * b;
}

*!*
let double = mul.bind(null, 2);
*/!*

alert( double(3) ); // = mul(2, 3) = 6
alert( double(4) ); // = mul(2, 4) = 8
alert( double(5) ); // = mul(2, 5) = 10
```

The call to `mul.bind(null, 2)` creates a new function `double` that passes calls to `mul`, fixing `null` as the context and `2` as the first argument. Further arguments are passed &quot;as is&quot;.

That's called [partial function application](https://en.wikipedia.org/wiki/Partial_application) -- we create a new function by fixing some parameters of the existing one.

Please note that we actually don't use `this` here. But `bind` requires it, so we must put in something like `null`.

The function `triple` in the code below triples the value:

```js run
function mul(a, b) {
  return a * b;
}

*!*
let triple = mul.bind(null, 3);
*/!*

alert( triple(3) ); // = mul(3, 3) = 9
alert( triple(4) ); // = mul(3, 4) = 12
alert( triple(5) ); // = mul(3, 5) = 15
```

Why do we usually make a partial function?

The benefit is that we can create an independent function with a readable name (`double`, `triple`). We can use it and not provide the first argument every time as it's fixed with `bind`.

In other cases, partial application is useful when we have a very generic function and want a less universal variant of it for convenience.

For instance, we have a function `send(from, to, text)`. Then, inside a `user` object we may want to use a partial variant of it: `sendTo(to, text)` that sends from the current user.

## Going partial without context

What if we'd like to fix some arguments, but not the context `this`? For example, for an object method.

The native `bind` does not allow that. We can't just omit the context and jump to arguments.

Fortunately, a function `partial` for binding only arguments can be easily implemented.

Like this:

```js run
*!*
function partial(func, ...argsBound) {
  return function(...args) { // (*)
    return func.call(this, ...argsBound, ...args);
  }
}
*/!*

// Usage:
let user = {
  firstName: &quot;John&quot;,
  say(time, phrase) {
    alert(`[${time}] ${this.firstName}: ${phrase}!`);
  }
};

// add a partial method with fixed time
user.sayNow = partial(user.say, new Date().getHours() + ':' + new Date().getMinutes());

user.sayNow(&quot;Hello&quot;);
// Something like:
// [10:00] John: Hello!
```

The result of `partial(func[, arg1, arg2...])` call is a wrapper `(*)` that calls `func` with:
- Same `this` as it gets (for `user.sayNow` call it's `user`)
- Then gives it `...argsBound` -- arguments from the `partial` call (`&quot;10:00&quot;`)
- Then gives it `...args` -- arguments given to the wrapper (`&quot;Hello&quot;`)

So easy to do it with the spread syntax, right?

Also there's a ready [_.partial](https://lodash.com/docs#partial) implementation from lodash library.

## Summary

Method `func.bind(context, ...args)` returns a &quot;bound variant&quot; of function `func` that fixes the context `this` and first arguments if given.

Usually we apply `bind` to fix `this` for an object method, so that we can pass it somewhere. For example, to `setTimeout`.

When we fix some arguments of an existing function, the resulting (less universal) function is called *partially applied* or *partial*.

Partials are convenient when we don't want to repeat the same argument over and over again. Like if we have a `send(from, to)` function, and `from` should always be the same for our task, we can get a partial and go on with it.
</code></pre></main>


<div class="modal fade" id="noteModel" tabindex="-1" aria-labelledby="noteModelLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="noteModelLabel">Note</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <textarea class="form-control" id="noteText" rows="3"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


    </div>
    
  </main>
  
  



<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Confimation</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete ?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
          <button type="button" class="btn btn-primary">Yes</button>
        </div>
      </div>
    </div>
  </div>

<div aria-live="polite" aria-atomic="true">
  <div class="toast-container position-absolute top-0 start-0 p-5 mt-5" id="toast-container">
    
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/app.js"></script>



  
  
  

<script type="text/javascript" src="/js/chapter.js"></script>


  
</body>

</html>