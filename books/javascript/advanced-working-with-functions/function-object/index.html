<!DOCTYPE html>
<html lang="en">

<head>


  <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <base href="/">
    <title>Project Madurai School</title>

    
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/site.webmanifest" />

    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />


    

    <link rel="stylesheet" href="/css/style.css"/>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
      integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ="
      crossorigin="anonymous"
    />



  


</head>

<body>
  <main class="container mt-5 w-100 h-100">
    <nav class="navbar navbar-expand-md navbar-light bg-white py-0 fixed-top">
  <div class="container-fluid border-bottom border-top-1 shadow-sm bg-body">
    <a class="navbar-brand lh-1" href="/">
      
      
        <span class="text-primary"><strong>Project Madurai</strong></span><br>
        <p class="text-muted text-end w-100 p-0 mb-0"><small class="dropdown-toggle">தமிழ்</small></p>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExampleDefault"
      aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" href="/books/javascript">Javascript</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/books/c">C</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/practices/java">Java</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/posts">Blog</a>
        </li>
      </ul>
      <form class="d-flex">
        <input class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>
      <ul class="navbar-nav secured">
        <li class="nav-item btn pe-0">
          <a class="nav-link" href="/chat"><i class="far fa-comment-dots fa-2x"></i></a>
        </li>
        <li class="nav-item pe-0 dropdown">
          
          <div class="btn-group bg-light">
            <a class="btn btn-toggle pe-0" data-bs-toggle="dropdown" aria-expanded="false">
              <div class="d-flex bd-highlight">
                <div class="w-100 bd-highlight text-end">
                  <h6 class="text-muted fw-bold">தமிழ்ச் சங்கம்</h6>
                  <small class="text-muted">திருவள்ளுவர் கழகம்</small>
               </div>
                <div class="flex-shrink-1 bd-highlight">
                  <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="img-circle img-thumbnail avatar"
                style="vertical-align: middle;border-radius: 50%; width: 3rem; margin-right: 10px;" alt="avatar">
                </div>
                
                
              </div>
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdown03">
              <li><a class="dropdown-item" href="javascript://">Profile</a></li>
              <li><a class="dropdown-item" href="/campuses/tamil-sangam">Campus</a></li>
              <li><a class="dropdown-item logout" href="javascript://">Logout</a></li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="row py-5 w-100 h-100">
       

  <nav class="navbar border-1 border-bottom">
  <div class="row w-100">
    <div class="col-4">
      <a href="/books/javascript/advanced-working-with-functions/global-object">Global object</a>
    </div>
    <div class="col-4 mb-2 text-center">
      <a class="text-dark"
        href="/books/javascript/advanced-working-with-functions">Advanced Working with Functions</a>
    </div>
    <div class="col-4 d-flex justify-content-end align-items-center">
      <a href="/books/javascript/advanced-working-with-functions/new-function">The &#34;new Function&#34; syntax</a>
    </div>
  </div>
</nav>

<main id="content" class="pt-3"><h1 id="function-object-nfe">Function object, NFE</h1>
<p>As we already know, a function in JavaScript is a value.</p>
<p>Every value in JavaScript has a type. What type is a function?</p>
<p>In JavaScript, functions are objects.</p>
<p>A good way to imagine functions is as callable &ldquo;action objects&rdquo;. We can not only call them, but also treat them as objects: add/remove properties, pass by reference etc.</p>
<h2 id="the-name-property">The &ldquo;name&rdquo; property</h2>
<p>Function objects contain some useable properties.</p>
<p>For instance, a function&rsquo;s name is accessible as the &ldquo;name&rdquo; property:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sayHi</span>() {
  <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Hi&#34;</span>);
}

<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">sayHi</span>.<span style="color:#a6e22e">name</span>); <span style="color:#75715e">// sayHi
</span></code></pre></div><p>What&rsquo;s kind of funny, the name-assigning logic is smart. It also assigns the correct name to a function even if it&rsquo;s created without one, and then immediately assigned:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
  <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Hi&#34;</span>);
};

<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">sayHi</span>.<span style="color:#a6e22e">name</span>); <span style="color:#75715e">// sayHi (there&#39;s a name!)
</span></code></pre></div><p>It also works if the assignment is done via a default value:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {}) {
  <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">sayHi</span>.<span style="color:#a6e22e">name</span>); <span style="color:#75715e">// sayHi (works!)
</span><span style="color:#75715e"></span>}

<span style="color:#a6e22e">f</span>();
</code></pre></div><p>In the specification, this feature is called a &ldquo;contextual name&rdquo;. If the function does not provide one, then in an assignment it is figured out from the context.</p>
<p>Object methods have names too:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {

  <span style="color:#a6e22e">sayHi</span>() {
    <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>  },

  <span style="color:#a6e22e">sayBye</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>() {
    <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>  }

}

<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">sayHi</span>.<span style="color:#a6e22e">name</span>); <span style="color:#75715e">// sayHi
</span><span style="color:#75715e"></span><span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">sayBye</span>.<span style="color:#a6e22e">name</span>); <span style="color:#75715e">// sayBye
</span></code></pre></div><p>There&rsquo;s no magic though. There are cases when there&rsquo;s no way to figure out the right name. In that case, the name property is empty, like here:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// function created inside array
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">arr</span> <span style="color:#f92672">=</span> [<span style="color:#66d9ef">function</span>() {}];

<span style="color:#a6e22e">alert</span>( <span style="color:#a6e22e">arr</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">name</span> ); <span style="color:#75715e">// &lt;empty string&gt;
</span><span style="color:#75715e">// the engine has no way to set up the right name, so there is none
</span></code></pre></div><p>In practice, however, most functions do have a name.</p>
<h2 id="the-length-property">The &ldquo;length&rdquo; property</h2>
<p>There is another built-in property &ldquo;length&rdquo; that returns the number of function parameters, for instance:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f1</span>(<span style="color:#a6e22e">a</span>) {}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f2</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">many</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>, ...<span style="color:#a6e22e">more</span>) {}

<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">f1</span>.<span style="color:#a6e22e">length</span>); <span style="color:#75715e">// 1
</span><span style="color:#75715e"></span><span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">f2</span>.<span style="color:#a6e22e">length</span>); <span style="color:#75715e">// 2
</span><span style="color:#75715e"></span><span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">many</span>.<span style="color:#a6e22e">length</span>); <span style="color:#75715e">// 2
</span></code></pre></div><p>Here we can see that rest parameters are not counted.</p>
<p>The <code>length</code> property is sometimes used for <a href="https://en.wikipedia.org/wiki/Type_introspection">introspection</a> in functions that operate on other functions.</p>
<p>For instance, in the code below the <code>ask</code> function accepts a <code>question</code> to ask and an arbitrary number of <code>handler</code> functions to call.</p>
<p>Once a user provides their answer, the function calls the handlers. We can pass two kinds of handlers:</p>
<ul>
<li>A zero-argument function, which is only called when the user gives a positive answer.</li>
<li>A function with arguments, which is called in either case and returns an answer.</li>
</ul>
<p>To call <code>handler</code> the right way, we examine the <code>handler.length</code> property.</p>
<p>The idea is that we have a simple, no-arguments handler syntax for positive cases (most frequent variant), but are able to support universal handlers as well:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">ask</span>(<span style="color:#a6e22e">question</span>, ...<span style="color:#a6e22e">handlers</span>) {
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">isYes</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">confirm</span>(<span style="color:#a6e22e">question</span>);

  <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">handler</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">handlers</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">handler</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isYes</span>) <span style="color:#a6e22e">handler</span>();
    } <span style="color:#66d9ef">else</span> {
      <span style="color:#a6e22e">handler</span>(<span style="color:#a6e22e">isYes</span>);
    }
  }

}

<span style="color:#75715e">// for positive answer, both handlers are called
</span><span style="color:#75715e">// for negative answer, only the second one
</span><span style="color:#75715e"></span><span style="color:#a6e22e">ask</span>(<span style="color:#e6db74">&#34;Question?&#34;</span>, () =&gt; <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#39;You said yes&#39;</span>), <span style="color:#a6e22e">result</span> =&gt; <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">result</span>));
</code></pre></div><p>This is a particular case of so-called <a href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)">polymorphism</a> &ndash; treating arguments differently depending on their type or, in our case depending on the <code>length</code>. The idea does have a use in JavaScript libraries.</p>
<h2 id="custom-properties">Custom properties</h2>
<p>We can also add properties of our own.</p>
<p>Here we add the <code>counter</code> property to track the total calls count:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sayHi</span>() {
  <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Hi&#34;</span>);

  <span style="color:#f92672">*!*</span>
  <span style="color:#75715e">// let&#39;s count how many times we run
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">sayHi</span>.<span style="color:#a6e22e">counter</span><span style="color:#f92672">++</span>;
  <span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
}
<span style="color:#a6e22e">sayHi</span>.<span style="color:#a6e22e">counter</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#75715e">// initial value
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">sayHi</span>(); <span style="color:#75715e">// Hi
</span><span style="color:#75715e"></span><span style="color:#a6e22e">sayHi</span>(); <span style="color:#75715e">// Hi
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">alert</span>( <span style="color:#e6db74">`Called </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">sayHi</span>.<span style="color:#a6e22e">counter</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> times`</span> ); <span style="color:#75715e">// Called 2 times
</span></code></pre></div><pre><code class="language-warn" data-lang="warn">A property assigned to a function like `sayHi.counter = 0` does *not* define a local variable `counter` inside it. In other words, a property `counter` and a variable `let counter` are two unrelated things.

We can treat a function as an object, store properties in it, but that has no effect on its execution. Variables are not function properties and vice versa. These are just parallel worlds.
</code></pre><p>Function properties can replace closures sometimes. For instance, we can rewrite the counter function example from the chapter <a href="info:closure">info:closure</a> to use a function property:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">makeCounter</span>() {
  <span style="color:#75715e">// instead of:
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// let count = 0
</span><span style="color:#75715e"></span>
  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">counter</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">count</span><span style="color:#f92672">++</span>;
  };

  <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">counter</span>;
}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">counter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">makeCounter</span>();
<span style="color:#a6e22e">alert</span>( <span style="color:#a6e22e">counter</span>() ); <span style="color:#75715e">// 0
</span><span style="color:#75715e"></span><span style="color:#a6e22e">alert</span>( <span style="color:#a6e22e">counter</span>() ); <span style="color:#75715e">// 1
</span></code></pre></div><p>The <code>count</code> is now stored in the function directly, not in its outer Lexical Environment.</p>
<p>Is it better or worse than using a closure?</p>
<p>The main difference is that if the value of <code>count</code> lives in an outer variable, then external code is unable to access it. Only nested functions may modify it. And if it&rsquo;s bound to a function, then such a thing is possible:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">makeCounter</span>() {

  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">counter</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">count</span><span style="color:#f92672">++</span>;
  };

  <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">counter</span>;
}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">counter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">makeCounter</span>();

<span style="color:#f92672">*!*</span>
<span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
<span style="color:#a6e22e">alert</span>( <span style="color:#a6e22e">counter</span>() ); <span style="color:#75715e">// 10
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
</code></pre></div><p>So the choice of implementation depends on our aims.</p>
<h2 id="named-function-expression">Named Function Expression</h2>
<p>Named Function Expression, or NFE, is a term for Function Expressions that have a name.</p>
<p>For instance, let&rsquo;s take an ordinary Function Expression:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">who</span>) {
  <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">who</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
};
</code></pre></div><p>And add a name to it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#f92672">*!*</span><span style="color:#a6e22e">func</span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*(who) {</span>
  <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">who</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
};
</code></pre></div><p>Did we achieve anything here? What&rsquo;s the purpose of that additional <code>&quot;func&quot;</code> name?</p>
<p>First let&rsquo;s note, that we still have a Function Expression. Adding the name <code>&quot;func&quot;</code> after <code>function</code> did not make it a Function Declaration, because it is still created as a part of an assignment expression.</p>
<p>Adding such a name also did not break anything.</p>
<p>The function is still available as <code>sayHi()</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#f92672">*!*</span><span style="color:#a6e22e">func</span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*(who) {</span>
  <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">who</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
};

<span style="color:#a6e22e">sayHi</span>(<span style="color:#e6db74">&#34;John&#34;</span>); <span style="color:#75715e">// Hello, John
</span></code></pre></div><p>There are two special things about the name <code>func</code>, that are the reasons for it:</p>
<ol>
<li>It allows the function to reference itself internally.</li>
<li>It is not visible outside of the function.</li>
</ol>
<p>For instance, the function <code>sayHi</code> below calls itself again with <code>&quot;Guest&quot;</code> if no <code>who</code> is provided:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#f92672">*!*</span><span style="color:#a6e22e">func</span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*(who) {</span>
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">who</span>) {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">who</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
  } <span style="color:#66d9ef">else</span> {
<span style="color:#f92672">*!*</span>
    <span style="color:#a6e22e">func</span>(<span style="color:#e6db74">&#34;Guest&#34;</span>); <span style="color:#75715e">// use func to re-call itself
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
  }
};

<span style="color:#a6e22e">sayHi</span>(); <span style="color:#75715e">// Hello, Guest
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// But this won&#39;t work:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">func</span>(); <span style="color:#75715e">// Error, func is not defined (not visible outside of the function)
</span></code></pre></div><p>Why do we use <code>func</code>? Maybe just use <code>sayHi</code> for the nested call?</p>
<p>Actually, in most cases we can:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">who</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">who</span>) {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">who</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
  } <span style="color:#66d9ef">else</span> {
<span style="color:#f92672">*!*</span>
    <span style="color:#a6e22e">sayHi</span>(<span style="color:#e6db74">&#34;Guest&#34;</span>);
<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
  }
};
</code></pre></div><p>The problem with that code is that <code>sayHi</code> may change in the outer code. If the function gets assigned to another variable instead, the code will start to give errors:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">who</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">who</span>) {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">who</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
  } <span style="color:#66d9ef">else</span> {
<span style="color:#f92672">*!*</span>
    <span style="color:#a6e22e">sayHi</span>(<span style="color:#e6db74">&#34;Guest&#34;</span>); <span style="color:#75715e">// Error: sayHi is not a function
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
  }
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">welcome</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">sayHi</span>;
<span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;

<span style="color:#a6e22e">welcome</span>(); <span style="color:#75715e">// Error, the nested sayHi call doesn&#39;t work any more!
</span></code></pre></div><p>That happens because the function takes <code>sayHi</code> from its outer lexical environment. There&rsquo;s no local <code>sayHi</code>, so the outer variable is used. And at the moment of the call that outer <code>sayHi</code> is <code>null</code>.</p>
<p>The optional name which we can put into the Function Expression is meant to solve exactly these kinds of problems.</p>
<p>Let&rsquo;s use it to fix our code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#f92672">*!*</span><span style="color:#a6e22e">func</span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*(who) {</span>
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">who</span>) {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">who</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
  } <span style="color:#66d9ef">else</span> {
<span style="color:#f92672">*!*</span>
    <span style="color:#a6e22e">func</span>(<span style="color:#e6db74">&#34;Guest&#34;</span>); <span style="color:#75715e">// Now all fine
</span><span style="color:#75715e"></span><span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">/!*</span>
  }
};

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">welcome</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">sayHi</span>;
<span style="color:#a6e22e">sayHi</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;

<span style="color:#a6e22e">welcome</span>(); <span style="color:#75715e">// Hello, Guest (nested call works)
</span></code></pre></div><p>Now it works, because the name <code>&quot;func&quot;</code> is function-local. It is not taken from outside (and not visible there). The specification guarantees that it will always reference the current function.</p>
<p>The outer code still has its variable <code>sayHi</code> or <code>welcome</code>. And <code>func</code> is an &ldquo;internal function name&rdquo;, how the function can call itself internally.</p>
<pre><code class="language-smart" data-lang="smart">The &quot;internal name&quot; feature described here is only available for Function Expressions, not for Function Declarations. For Function Declarations, there is no syntax for adding an &quot;internal&quot; name.

Sometimes, when we need a reliable internal name, it's the reason to rewrite a Function Declaration to Named Function Expression form.
</code></pre><h2 id="summary">Summary</h2>
<p>Functions are objects.</p>
<p>Here we covered their properties:</p>
<ul>
<li><code>name</code> &ndash; the function name. Usually taken from the function definition, but if there&rsquo;s none, JavaScript tries to guess it from the context (e.g. an assignment).</li>
<li><code>length</code> &ndash; the number of arguments in the function definition. Rest parameters are not counted.</li>
</ul>
<p>If the function is declared as a Function Expression (not in the main code flow), and it carries the name, then it is called a Named Function Expression. The name can be used inside to reference itself, for recursive calls or such.</p>
<p>Also, functions may carry additional properties. Many well-known JavaScript libraries make great use of this feature.</p>
<p>They create a &ldquo;main&rdquo; function and attach many other &ldquo;helper&rdquo; functions to it. For instance, the <a href="https://jquery.com">jQuery</a> library creates a function named <code>$</code>. The <a href="https://lodash.com">lodash</a> library creates a function <code>_</code>, and then adds <code>_.clone</code>, <code>_.keyBy</code> and other properties to it (see the <a href="https://lodash.com/docs">docs</a> when you want to learn more about them). Actually, they do it to lessen their pollution of the global space, so that a single library gives only one global variable. That reduces the possibility of naming conflicts.</p>
<p>So, a function can do a useful job by itself and also carry a bunch of other functionality in properties.</p>
</main>


<div class="modal fade" id="noteModel" tabindex="-1" aria-labelledby="noteModelLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="noteModelLabel">Note</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <textarea class="form-control" id="noteText" rows="3"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


    </div>
    
  </main>
  
  



<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Confimation</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete ?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
          <button type="button" class="btn btn-primary">Yes</button>
        </div>
      </div>
    </div>
  </div>

<div aria-live="polite" aria-atomic="true">
  <div class="toast-container position-absolute top-0 start-0 p-5 mt-5" id="toast-container">
    
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/app.js"></script>



  
  
  

<script type="text/javascript" src="/js/chapter.js"></script>


  
</body>

</html>